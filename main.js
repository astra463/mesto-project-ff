(()=>{"use strict";function e(e){e.classList.toggle("popup_is-opened",!0),document.addEventListener("keydown",n)}function t(e){e.classList.toggle("popup_is-opened",!1),document.removeEventListener("keydown",n)}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}var r=document.querySelector(".places__list");function o(e){e.remove()}function c(e){e.classList.toggle("card__like-button_is-active")}function i(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),c=o.querySelector(".card__delete-button"),i=o.querySelector(".card__like-button"),u=o.querySelector(".card__image");return o.querySelector(".card__title").textContent=e.name,u.src=e.link,u.alt=e.description,o.querySelector(".card__image").addEventListener("click",(function(){return n(o)})),c.addEventListener("click",(function(){return t(o)})),i.addEventListener("click",(function(){return n(i)})),u.addEventListener("click",(function(){return r({title:(e=o).querySelector(".card__title").textContent,link:e.querySelector(".card__image").getAttribute("src"),description:e.querySelector(".card__image").getAttribute("alt")});var e})),o}var u=document.querySelectorAll(".popup"),p=document.querySelector(".popup_type_edit"),d=document.querySelector(".popup_type_new-card"),l=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),s=document.querySelectorAll(".popup__close"),_=document.querySelector(".profile__title"),m=document.querySelector(".profile__description"),y=document.querySelector('form[name="edit-profile"]'),f=y.querySelector(".popup__input_type_name"),v=y.querySelector(".popup__input_type_description"),k=document.querySelector('form[name="new-place"]'),q=document.forms["new-place"].elements["place-name"],S=document.forms["new-place"].elements.link,g=document.querySelector(".popup_type_image"),E=g.querySelector(".popup__image"),L=g.querySelector(".popup__caption");function b(t){E.setAttribute("src",t.link),E.setAttribute("alt",t.description),L.textContent=t.title,e(g)}l.addEventListener("click",(function(){var t;t=function(e){return document.querySelector(e).textContent},f.value=t(".profile__title"),v.value=t(".profile__description"),e(p)})),a.addEventListener("click",(function(){return e(d)})),y.addEventListener("submit",(function(e){e.preventDefault();var n=f.value,r=v.value;_.textContent=n,m.textContent=r,t(p)})),k.addEventListener("submit",(function(e){e.preventDefault(),function(e,t){var n={name:e,link:t};r.prepend(i(n,o,c,b)),k.reset()}(q.value,S.value),t(d)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",description:"Горный пейзаж Архыза"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",description:"Живописные места в Челябинской области"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",description:"Исторические достопримечательности Иваново"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",description:"Вулканы и природные красоты Камчатки"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",description:"Пейзажи Холмогорского района"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",description:"Кристально чистое озеро Байкал"}].forEach((function(e){r.append(i(e,o,c,b))})),s.forEach((function(e){e.addEventListener("click",(function(){var n=e.closest(".popup");n&&t(n)}))})),u.forEach((function(e){e.addEventListener("click",(function(n){n.target.classList.contains("popup")&&t(e)}))}))})();